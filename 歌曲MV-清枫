/**
* @author æ¸…æ«
* @create_at 2022-09-08 22:39:49
* @public true
* @description ğŸ’MVåˆé›†ï¼ŒåŒ…å«QQéŸ³ä¹ã€é…·ç‹—éŸ³ä¹MVï¼Œé»˜è®¤è®¾ç½®QQéŸ³ä¹ã€‚
* @version v1.0.0
* @title æ­Œæ›²MV
* @platform qq wx tg pgm web cron
* @rule æˆ‘æƒ³å¬?
* @rule æˆ‘æƒ³å¬ ?
* @rule æƒ³å¬?
* @rule æƒ³å¬ ?
* @priority 100

* @admin false
*/


//sender
const s = sender

 

function main() {
    var name = s.param(1) //åŒ¹é…è§„åˆ™ç¬¬ä¸€ä¸ªé—®å·çš„å€¼

    var {body} = request({ // å†…ç½®httpè¯·æ±‚å‡½æ•°
        "url": "https://xiaoapi.cn/API/mv.php?type=qq&msg=" + name + "&n=1", //å¦‚æœè¦é…·ç‹—å¹³å°ï¼Œåˆ™æŠŠtypeæ”¹ä¸ºkg
        "method": "get", //è¯·æ±‚æ–¹æ³•
        "dataType": "json", //è¿™é‡Œæ¥å£ç›´æ¥è¿”å›æ–‡æœ¬ï¼Œæ‰€ä»¥ä¸éœ€è¦æŒ‡å®šjsonç±»å‹æ•°æ®
    })


 if(body.code == 201 ){
		s.reply("æŸ¥æ—  "+ name + " MV")

 }
 if(body.code == 200 ){
 	var list = body.data;
	data = 
		"æ­Œåï¼š" + list.mv_name + 
		"\nä½œè€…ï¼š" +list.mv_singer + 
		"\nMVåœ°å€ï¼š" + list.url
		s.reply(`${data}${image(list.pic)}`)
     }

}
  

main()
